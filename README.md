Ручимский Станислав;
Тестовое задание для DevOps-инженера;
1. DevOps - это набор практик, объединяющий разработку и обслуживание ПО. Devops ускоряет процесс разработки ПО, повышает его качесто и надежность, а так же улучшает взаимодействия между подразделениями компании.
Проблемы которые решает devops:
   - Медленный процесс развертывания и доставки: Ускоряет процессы развертывания и доставки продукта путем автоматизации процессов.
   - Низкая надежность и стабильность систем: Делает систему надежнее и стабильнее за счет непрерывных мониторинга, доставки и интеграции. Это помогает устранять ошибки на ранних стадиях и обеспечить более стабильную работу систем.
   - Сложность масштабирования: Использования подхода IaC (инфраструктура как код) упрощает масштабирование систем и обеспечивает их гибкость.
   - Сложность взаимодействия между командами: является связующим звеном между командами разработки и операций, что сокращает задержки и количество ошибок.
2. CI/CD (Continuous Integration and Continuous Deployment) — это подход к разработке программного обеспечения, который включает в себя два основных процесса:
   - Continuous Integration (Непрерывная интеграция): Разработчики регулярно (часто несколько раз в день) интегрируют свой код в общую репозиторию. После каждой интеграции автоматически запускаются сборка проекта, выполнение модульных тестов и проверка качества кода для быстрого обнаружения и исправления ошибок, возникающих в результате интеграции.
   - Continuous Deployment (Непрерывная доставка) / Continuous Delivery (Непрерывная развертываемость): После успешной непрерывной интеграции изменения автоматически или с минимальным участием человека развертываются на тестовых, стaging и, наконец, на продакшн-серверах. Continuous Delivery означает, что изменения готовы к развертыванию в любой момент, но фактическое развертывание может быть ручным или автоматизированным по расписанию. Continuous Deployment же подразумевает полностью автоматизированное развертывание изменений на продакшн после успешного прохождения всех тестов.
Основные этапы CI/CD пайплайна:
   - Сборка (Build): Автоматическая сборка проекта из исходного кода, компиляция и создание исполняемого файла или пакета для развертывания.
   - Тестирование (Test): Выполнение автоматизированных тестов, включая модульные тесты, интеграционные тесты, функциональные тесты, тесты производительности и безопасности для проверки качества и стабильности приложения.
   - Упаковка (Package): Создание упакованного артефакта, готового к развертыванию, например, Docker контейнера, JAR-файла или WAR-файла.
   - Развертывание (Deploy): Автоматическое развертывание упакованного артефакта на тестовые, стейджинговые и продакшн-серверы.
   - Мониторинг и обратная связь (Monitor and Feedback): Непрерывный мониторинг работы приложения в продакшне, сбор логов и метрик, анализ пользовательской обратной связи для выявления проблем и определения направлений для дальнейшего улучшения.
3. Мониторинг и обратная связь (Monitor and Feedback): Непрерывный мониторинг работы приложения в продакшне, сбор логов и метрик, анализ пользовательской обратной связи для выявления проблем и определения направлений для дальнейшего улучшения.
   - Раннее обнаружение проблем: Мониторинг позволяет оперативно выявлять аномалии и сбои в работе системы, что позволяет быстро реагировать и предотвращать серьезные проблемы.
   - Оптимизация производительности: Анализируя метрики производительности, команды могут выявлять узкие места и оптимизировать работу системы для улучшения ее эффективности.
   - Управление ресурсами: Мониторинг помогает контролировать использование ресурсов (CPU, память, сеть и т.д.) и предотвращать их перегрузку.
   - Обеспечение безопасности: Мониторинг может помочь в обнаружении и предотвращении потенциальных угроз безопасности.
   - Поддержка принятия решений: Анализ данных мониторинга предоставляет ценную информацию для принятия обоснованных технических и бизнес-решений.
Инструменты мониторинга с которыми я работал(работаю):
   - Zabbix
   - Prometheus + Grafana
   - Loki планирую в ближашие пару месяцев изучить и внедрить
Инструменты о которых я знаю:
   - ELK
   - Nagios
   - OpenSearch
Различие между мониторингом и логированием:
Мониторинг включает в себя сбор, анализ и визуализацию в реальном времени метрик, которые характеризуют работу системы, таких как производительность, доступность, использование ресурсов и т.д. Цель мониторинга — обеспечить стабильность и эффективность работы системы, а также раннее обнаружение и устранение проблем.
Логирование — это процесс записи событий, происходящих в системе, в лог-файлы. Логи содержат подробную информацию о действиях пользователях, ошибках, предупреждениях и других событиях, которые могут быть полезны для диагностики проблем, аудита и анализа поведения системы. В отличие от мониторинга, логирование ориентировано на хранение и последующий анализ исторических данных.
4. Отличия контейнеров от виртуальных машин (VM):
   - Изоляция: Виртуальные машины полностью изолированы друг от друга и от хост-системы, каждая VM имеет свою собственную копию операционной системы. Контейнеры же используют общее ядро ОС хоста и изолированы на уровне процессов и файловой системы.
   - Размер и производительность: Контейнеры значительно легче и быстрее VM, так как не требуют полной копии ОС. Это позволяет запускать больше контейнеров на одном сервере и обеспечивает более высокую производительность.
   - Запуск и масштабирование: Контейнеры запускаются быстрее, чем VM, что упрощает и ускоряет процессы развертывания и масштабирования приложений.
Основные команды Docker для работы с контейнерами:
   - docker pull: Скачивает образ контейнера из репозитория (например, Docker Hub).
   - docker run: Создает и запускает новый контейнер из образа.
   - docker ps: Показывает список запущенных контейнеров.
   - docker stop: Останавливает запущенный контейнер.
   - docker start: Запускает остановленный контейнер.
   - docker rm: Удаляет контейнер.
   - docker exec: Выполняет команду в запущенном контейнере.
   - docker images: Показывает список доступных образов контейнеров на локальной машине.
   - docker build: Создает образ контейнера на основе Dockerfile.
   - docker push: Загружает образ контейнера в репозиторий.
5. NAT — это технология сетевого уровня, которая позволяет устройствам в частной сети использовать один общедоступный IP-адрес для доступа в Интернет. Она работает путем перевода (трансляции) IP-адресов и портов между частной и общедоступной сетями.
DNS — это распределенная система именования, которая преобразует доменные имена в IP-адреса. Без DNS пользователям пришлось бы запоминать IP-адреса всех сайтов, которые они хотят посетить, что было бы неудобно и практически невозможно.
6. Ветвление в Git — это одна из ключевых функций, которая позволяет разработчикам работать над различными версиями проекта параллельно без влияния друг на друга. Каждая ветка в Git представляет собой отдельную линию разработки, которая может содержать свои собственные коммиты изменений. Это особенно полезно, когда несколько разработчиков работают над одним проектом или когда нужно реализовать новую функцию или исправить ошибку, не затрагивая основную версию кода
Как создать новую ветку и переключиться на нее в Git:
   - git checkout -b <название_новой_ветки>
7. Основные методы обеспечения безопасности для серверов и сервисов:
   - Обновление программного обеспечения: Регулярное обновление операционной системы, серверных приложений и плагинов для устранения известных уязвимостей.
   - Использование брандмауэров: Настройка брандмауэров для контроля входящего и исходящего трафика, разрешая только необходимые соединения.
   - Сильные пароли и многофакторная аутентификация (MFA): Использование сложных, уникальных паролей для всех учетных записей и внедрение MFA для дополнительной защиты.
   - Резервное копирование данных: Регулярное создание резервных копий данных и их хранение в безопасном месте для предотвращения потери данных в случае атаки или сбоя.
   - Мониторинг и аудит: Непрерывный мониторинг активности серверов и аудит систем для обнаружения и предотвращения несанкционированного доступа или подозрительной активности.
   - Изоляция ресурсов: Использование виртуализации или контейнеризации для изоляции приложений и предотвращения распространения уязвимостей между ними.
   - Шифрование данных: Шифрование данных в покое и во время передачи для защиты конфиденциальности информации.
SSH — это протокол безопасного удаленного доступа к командной строке сервера. Он обеспечивает шифрование всех передаваемых данных, аутентификацию пользователя и целостность данных, предотвращая перехват и подделку информации.
8. Оркестрация контейнеров — это процесс автоматического развертывания, масштабирования, мониторинга и управления контейнерами и их сетями на группе серверов. Она позволяет эффективно управлять сложными многоконтейнерными приложениями, обеспечивая высокую доступность, масштабируемость и надежность.
Зачем нужна оркестрация контейнеров:
   - Масштабируемость: Оркестраторы позволяют автоматически масштабировать количество экземпляров контейнеров в зависимости от нагрузки на приложение.
   - Высокая доступность: Оркестраторы могут автоматически перезапускать контейнеры в случае сбоев или отказов серверов.
   - Управление сетями: Оркестраторы позволяют создавать и управлять сетями между контейнерами, обеспечивая корректное взаимодействие между ними.
   - Развертывание: Оркестраторы позволяют автоматизировать процесс развертывания контейнеров на группе серверов, что упрощает процесс развертывания и обновления приложений.
   - Мониторинг и логирование: Оркестраторы предоставляют инструменты для мониторинга и логирования контейнеров и их ресурсов, что позволяет быстро обнаруживать и решать проблемы.
Оркестраторы контейнеров:
   - Kubernetes
   - Docker Swarm
   - Nomad
9. docker-compose.yml разворачивает контейнеры с веб-сервером NGINX и с базой данных PostgreSQL
Шаги для запуска проекта с помощью Docker Compose:
   - Откройте терминал.
   - Перейдите в директорию, где находится файл docker-compose.yml.
   - Выполните команду: docker-compose up -d
Как добавить том для хранения данных PostgreSQL:
    volumes:
      - db_data:/var/lib/postgresql/data  # Добавляем том для хранения данных PostgreSQL

volumes:
  db_data:
